(function(e){e.fn.ezContentSlider=function(n){function g(c,a){a.cMainSlidesList.css({width:"auto",height:"auto"});a.opts.displayIsReg?(a.nowDisplayWidth=c.find(a.opts.slidesMainSelector).width(),a.cMainSlidesList.css("width",a.nowDisplayWidth),a.cMainSlidesUL.css("width",a.nowDisplayWidth*a.cMainSlidesList.length)):(a.nowDisplayWidth=window.innerWidth,a.nowDisplayHeight=window.innerHeight,a.cMainSlidesList.css("width",a.nowDisplayWidth).css("height",a.nowDisplayHeight),a.cMainSlidesUL.css("width",
a.nowDisplayWidth*a.cMainSlidesList.length+"px"));return a}function h(c,a){"fit"===a.opts.displayFullStyle?a.nowDisplayWidth/a.nowDisplayHeight>c.data(a.opts.mainFullImgRatioDataAttr)?(c.addClass(a.opts.displayFullImgHeight100PercentClassName),c.removeClass(a.opts.displayFullImgWidth100PercentClassName),marginLeft=(a.nowDisplayWidth-c.data(a.opts.mainFullImgWidthDataAttr)*(a.nowDisplayHeight/c.data(a.opts.mainFullImgHeightDataAttr)))/2,c.css({"margin-top":"auto","margin-left":marginLeft})):(c.addClass(a.opts.displayFullImgWidth100PercentClassName),
c.removeClass(a.opts.displayFullImgHeight100PercentClassName),marginTop=(a.nowDisplayHeight-c.data(a.opts.mainFullImgHeightDataAttr)*(a.nowDisplayWidth/c.data(a.opts.mainFullImgWidthDataAttr)))/2,c.css({"margin-top":marginTop,"margin-left":"auto"})):a.opts.displayFullFillCenterImg?a.nowDisplayWidth/a.nowDisplayHeight>c.data(a.opts.mainFullImgRatioDataAttr)?(c.addClass(a.opts.displayFullImgWidth100PercentClassName),c.removeClass(a.opts.displayFullImgHeight100PercentClassName),marginTop=(a.nowDisplayHeight-
c.data(a.opts.mainFullImgHeightDataAttr)*(a.nowDisplayWidth/c.data(a.opts.mainFullImgWidthDataAttr)))/2,c.css({"margin-top":marginTop,"margin-left":"auto"})):(c.addClass(a.opts.displayFullImgHeight100PercentClassName),c.removeClass(a.opts.displayFullImgWidth100PercentClassName),marginLeft=(a.nowDisplayWidth-c.data(a.opts.mainFullImgWidthDataAttr)*(a.nowDisplayHeight/c.data(a.opts.mainFullImgHeightDataAttr)))/2,c.css({"margin-top":"auto","margin-left":marginLeft})):a.nowDisplayWidth/a.nowDisplayHeight>
c.data(a.opts.mainFullImgRatioDataAttr)?(c.addClass(a.opts.displayFullImgWidth100PercentClassName),c.removeClass(a.opts.displayFullImgHeight100PercentClassName)):(c.addClass(a.opts.displayFullImgHeight100PercentClassName),c.removeClass(a.opts.displayFullImgWidth100PercentClassName));return a}function k(c){var a=c.cCarouselWrapper.find(c.opts.carouselPagesWrapperSelector).width();pagesPerGroup=Math.floor(a/c.opts.carouselPageWidthInt);c.newPagesPerClick=pagesPerGroup-c.opts.carouselGroupPageOverlap;
1>c.newPagesPerClick&&(c.newPagesPerClick=pagesPerGroup);c.numOfGroups=Math.ceil(c.cCarouselPagesList.length/c.newPagesPerClick)-1;return c}function p(c,a){var b=c.find(a.opts.controlsSwitchClass),d=c.find(a.opts.controlsSwitchWrapperClass),g=c.find(a.opts.controlsThumbsClass),h=c.find(a.opts.controlsCaptionClass),k=c.find(a.opts.controlsShareClass),q=c.find(a.opts.controlsDisplayClass),n=c.find(a.opts.mainPrevSelector),p=c.find(a.opts.mainNextSelector);a.cControlsPlayClass=c.find(a.opts.controlsPlayClass);
if(a.opts.carouselUse){var r=c.find(a.opts.carouselGroupNextSelector),u=c.find(a.opts.carouselGroupPrevSelector);a.cCarouselPagesList.on("click",function(){a.ezcsIsBusy||(a.opts.playAutoPlaying&&a.opts.carouselPageClickStopsPlayAuto&&(a.opts.playAutoPlaying=!1,clearInterval(a.autoPlayInterval),a.cControlsPlayClass.toggle()),a=l(e(this).index(),a))});r.on("click",function(){a=f("next",a)});u.on("click",function(){a=f("prev",a)})}p.on("click",function(){a.opts.playAutoPlaying&&a.opts.mainNextPrevClickStopsPlayAuto&&
(a.opts.playAutoPlaying=!1,clearInterval(a.autoPlayInterval),a.cControlsPlayClass.toggle());m("next",a)});n.on("click",function(){a.opts.playAutoPlaying&&a.opts.mainNextPrevClickStopsPlayAuto&&(a.opts.playAutoPlaying=!1,clearInterval(a.autoPlayInterval),a.cControlsPlayClass.toggle());m("prev",a)});e(document).on("keyup.$this",function(c){39===c.keyCode?m("next",a):37===c.keyCode&&m("prev",a)});b.on("click",function(){b.toggle();d.fadeToggle(a.opts.controlsSwitchFadeDuration)});q.on("click",function(){q.toggle();
a=s(c,a)});e(document).keyup(function(b){27==b.keyCode&&!1===a.opts.displayIsReg&&a.opts.displayFullCloseWithEscape&&(q.toggle(),a=s(c,a))});g.on("click",function(){g.toggle();a.cCarouselWrapper.fadeToggle(a.opts.controlsSwitchFadeDuration)});h.on("click",function(){h.toggle();a.opts.captionIsShow?(a.cCaptionRegClass.hide(),a.cCaptionFullClass.hide(),a.opts.captionIsShow=!1):(a.opts.displayIsReg?a.cCaptionRegClass.show():a.cCaptionFullClass.show(),a.opts.captionIsShow=!0)});k.on("click",function(){k.toggle();
a.opts.shareIsShow?(a.cShareRegClass.hide(),a.cShareFullClass.hide(),a.opts.shareIsShow=!1):(a.opts.displayIsReg?a.cShareRegClass.show():a.cShareFullClass.show(),a.opts.shareIsShow=!0)});a.cControlsPlayClass.on("click",function(){a.cControlsPlayClass.toggle();a.opts.playAutoPlaying?(clearInterval(a.autoPlayInterval),a.opts.playAutoPlaying=!1):(a=t(a),a.opts.playAutoPlaying=!0)});return a}function s(c,a){a.opts.displayIsReg?(a.cDisplayRegClass.hide(),c.addClass(a.opts.fullToThisAddClassName),a.cDisplayFullClass.show(),
a.opts.displayIsReg=!1):(a.cDisplayFullClass.hide(),c.removeClass(a.opts.fullToThisAddClassName),a.cDisplayRegClass.show(),a.opts.displayIsReg=!0);a=g(c,a);a=l(a.nowIndex,a);a=k(a);a.opts.captionIsShow||(a.cCaptionRegClass.hide(),a.cCaptionFullClass.hide());a.opts.shareIsShow||(a.cShareRegClass.hide(),a.cShareFullClass.hide());return a}function t(c){var a=c.nowIndex;c.autoPlayInterval=setInterval(function(){a-(c.nowGroup*c.newPagesPerClick-1)>=c.newPagesPerClick-1&&c.opts.carouselUse&&(c=f("next",
c));++a;a<c.cMainSlidesList.length?(c=l(a,c),c.nowIndex=a):c.opts.playContinuous?(a=-1,c.nowIndex=-1,c.nowGroup=-1,c.opts.carouselUse&&("fade"===c.opts.carouselGroupPagingEffect&&(c.nowGroup=1),c=f("prev",c))):(c.opts.playAutoPlaying=!1,c.cControlsPlayClass.toggle(),clearInterval(c.autoPlayInterval))},c.opts.playAutoDuration);return c}function f(c,a){if("fade"===a.opts.carouselGroupPagingEffect)if("next"==c&&a.nowGroup<a.numOfGroups){for(idx=1;idx<=a.newPagesPerClick;idx++)a.cCarouselPagesList.eq(idx+
(a.nowGroup*a.newPagesPerClick-1)).fadeOut(a.opts.carouselGroupPagingDuration);++a.nowGroup}else{if("prev"===c&&0<a.nowGroup)for(--a.nowGroup,idx=1;idx<=a.newPagesPerClick;idx++)a.cCarouselPagesList.eq(idx+(a.nowGroup*a.newPagesPerClick-1)).fadeIn(a.opts.carouselGroupPagingDuration)}else"next"===c&&a.nowGroup<a.numOfGroups?(a.cCarouselPagesUL.animate({left:(a.nowGroup+1)*a.newPagesPerClick*a.opts.carouselPageWidthInt*-1},a.opts.carouselGroupPagingDuration,a.opts.carouselSlideEasing),++a.nowGroup):
"prev"===c&&0<a.nowGroup&&(--a.nowGroup,a.cCarouselPagesUL.animate({left:(a.nowGroup+1)*a.newPagesPerClick*a.opts.carouselPageWidthInt*-1+a.newPagesPerClick*a.opts.carouselPageWidthInt},a.opts.carouselGroupPagingDuration,a.opts.carouselSlideEasing));return a}function m(c,a){if(!a.ezcsIsBusy){a.ezcsIsBusy=!0;if("next"===c)if(a.nowIndex+1>=a.cMainSlidesList.length){nextIndex=0;for(var b=a.numOfGroups,d=0;b>d;b--)f("prev",a)}else nextIndex=a.nowIndex+1,nextIndex>=(a.nowGroup+1)*a.newPagesPerClick&&f("next",
a);else if("prev"===c)if(0>a.nowIndex-1)for(nextIndex=a.cMainSlidesList.length-1,b=0,d=a.numOfGroups;b<d;b++)f("next",a);else nextIndex=a.nowIndex-1,nextIndex<=a.nowGroup*a.newPagesPerClick&&f("prev",a);a.ezcsIsBusy=!1;return a=l(nextIndex,a)}}function r(b,a){imgLrg=a.cMainSlidesList.eq(b).find("img"+a.opts.displayFullClass);dataSrc=imgLrg.data(a.opts.mainFullImgSrcDataAttr);"undefined"!=typeof dataSrc&&!0!=imgLrg.data(a.opts.mainFullImgReadyDataAttr)&&(origSrc=imgLrg.attr("src"),a.opts.objImage.onerror=
function(){imgLrg.attr("src",origSrc)},a.opts.objImage.onload=function(){imgLrg.attr("src",dataSrc);imgLrg.attr("data-"+a.opts.mainFullImgReadyDataAttr,!0);imgLrg.attr("data-"+a.opts.mainFullImgWidthDataAttr,a.opts.objImage.width);imgLrg.attr("data-"+a.opts.mainFullImgHeightDataAttr,a.opts.objImage.height);imgLrg.attr("data-"+a.opts.mainFullImgRatioDataAttr,a.opts.objImage.width/a.opts.objImage.height);a=h(imgLrg,a)},a.opts.objImage.src=dataSrc)}function l(b,a){if(!a.ezcsIsBusy)return a.ezcsIsBusy=
!0,a.loaderSelector.show(),!0!=a.opts.displayIsReg&&(!1!=a.opts.mainFullImgLazyLoad?r(b,a):(imgLrg=a.cMainSlidesList.eq(b).find("img"+a.opts.displayFullClass),!0!=imgLrg.data(a.opts.mainFullImgReadyDataAttr)&&(imgLrg.attr("data-"+a.opts.mainFullImgReadyDataAttr,!0),a.opts.objImage.src=imgLrg.attr("src"),imgLrg.attr("data-"+a.opts.mainFullImgWidthDataAttr,a.opts.objImage.width),imgLrg.attr("data-"+a.opts.mainFullImgHeightDataAttr,a.opts.objImage.height),imgLrg.attr("data-"+a.opts.mainFullImgRatioDataAttr,
a.opts.objImage.width/a.opts.objImage.height)),a=h(imgLrg,a))),a.opts.carouselUse&&(a.cCarouselPagesList.eq(a.nowIndex).removeClass(a.opts.carouselPageSelectedClassName),a.cCarouselPagesList.eq(b).addClass(a.opts.carouselPageSelectedClassName)),"fade"==a.opts.slidesMainEffect?a.cMainSlidesList.eq(a.nowIndex).fadeOut(a.opts.slidesMainFadeOutDuration,function(){a.cMainSlidesList.eq(b).fadeIn(a.opts.slidesMainFadeInDuration,function(){a.ezcsIsBusy=!1})}):a.cMainSlidesUL.animate({left:b*a.nowDisplayWidth*
-1},Math.abs(b-a.nowIndex)*a.opts.slidesPerSlideDuration,a.opts.slidesPerSlideEasing,function(){a.ezcsIsBusy=!1}),a.loaderSelector.hide(),a.nowIndex=b,a}var d=e(this),b={opts:"",ezcsIsBusy:!1,nowIndex:0,nowGroup:0,nowDisplayWidth:0,nowDisplayHeight:0,cMainSlidesUL:"",cMainSlidesList:"",cCarouselWrapper:"",cCarouselPagesWrap:"",cCarouselPagesUL:"",cCarouselPagesList:"",newPagesPerClick:"",numOfGroups:"",cControlsPlayClass:"",cDisplayRegClass:"",cDisplayFullClass:"",cCaptionRegClass:"",cCaptionFullClass:"",
cShareRegClass:"",cShareFullClass:"",loaderSelector:"",autoPlayInterval:"",objImage:""};if(0==d.length)return d;b.opts=e.extend({},e.fn.ezContentSlider.defaults,n);b.opts.objImage=new Image;0>b.opts.carouselGroupPageOverlap&&(b.opts.carouselGroupPageOverlap=1);"swing"!=b.opts.carouselSlideEasing&&(b.opts.carouselSlideEasing="linear");"swing"!=b.opts.slidesPerSlideEasing&&(b.opts.slidesPerSlideEasing="linear");0>b.opts.startIndex&&(b.opts.startIndex=0);b.loaderSelector=d.find(b.opts.loaderSelector);
b.cMainSlidesUL=d.find(b.opts.slidesMainSelector+" ul");b.cMainSlidesList=d.find(b.opts.slidesMainSelector+" ul > li");0<b.cMainSlidesList.length&&(b.loaderSelector.show(),b.cDisplayRegClass=b.cMainSlidesList.find(b.opts.displayRegClass),b.cDisplayFullClass=b.cMainSlidesList.find(b.opts.displayFullClass),!1!=b.opts.mainFullImgLazyLoad&&b.cDisplayFullClass.filter("img").each(function(c){imgRegSrc=b.cDisplayRegClass.filter("img").eq(c).attr("src");e(this).attr("data-"+b.opts.mainFullImgSrcDataAttr,
e(this).attr("src"));e(this).attr("src",imgRegSrc)}),b.cCaptionRegClass=b.cMainSlidesList.find(b.opts.captionRegClass),b.cCaptionFullClass=b.cMainSlidesList.find(b.opts.captionFullClass),b.cShareRegClass=b.cMainSlidesList.find(b.opts.shareRegClass),b.cShareFullClass=b.cMainSlidesList.find(b.opts.shareFullClass),b.opts.captionIsShow||(b.cCaptionRegClass.hide(),b.cCaptionFullClass.hide()),b.opts.shareIsShow||(b.cShareRegClass.hide(),b.cShareFullClass.hide()),b.opts.displayIsReg?("fade"===b.opts.slidesMainEffect&&
b.cMainSlidesList.hide(),b.cMainSlidesList.find(b.opts.displayFullClass).hide()):(d.addClass(b.opts.fullToThisAddClassName),b.cDisplayRegClass.hide(),b.cDisplayFullClass.show(),b.opts.displayIsReg=!1),b=g(d,b),b.opts.carouselUse&&(b.cCarouselWrapper=d.find(b.opts.carouselWrapperSelector),b.cCarouselPagesWrap=b.cCarouselWrapper.find(b.opts.carouselPagesWrapperSelector),b.cCarouselPagesUL=b.cCarouselPagesWrap.find("ul"),b.cCarouselPagesList=b.cCarouselWrapper.find("ul > li"),b.cCarouselPagesList.show(),
b.cCarouselPagesList.eq(b.nowIndex).addClass(b.opts.carouselPageSelectedClassName),b=k(b)),0<b.opts.startIndex&&(b.opts.startIndex>b.cMainSlidesList.length&&(b.opts.startIndex=0),b=l(b.opts.startIndex,b)),b.cMainSlidesList.eq(b.opts.startIndex).show(),b=p(d,b),b.loaderSelector.hide(),b.opts.playAutoPlaying&&(b=t(b)));e(window).resize(function(){b=g(d,b);b.opts.carouselUse&&(b=k(b));imgLrg=b.cMainSlidesList.eq(b.nowIndex).find("img"+b.opts.displayFullClass);b=h(imgLrg,b)});return d};e.fn.ezContentSlider.defaults=
{startIndex:0,loaderSelector:".ezcs-loader",controlsSwitchWrapperClass:".ezcs-controls-switch-wrapper",controlsSwitchFadeDuration:200,controlsSwitchClass:".ezcs-control-switch",controlsThumbsClass:".ezcs-control-thumbs",controlsCaptionClass:".ezcs-control-caption",controlsShareClass:".ezcs-control-share",controlsDisplayClass:".ezcs-control-display",controlsPlayClass:".ezcs-control-play",carouselUse:!0,carouselPageSelectedClassName:"ezcs-selected",carouselWrapperSelector:".ezcs-carousel-wrapper",carouselPagesWrapperSelector:".ezcs-carousel-pages-wrapper",
carouselGroupNextSelector:".ezcs-carousel-group-next",carouselGroupPrevSelector:".ezcs-carousel-group-prev",carouselGroupPageOverlap:0,carouselGroupPagingEffect:"slide",carouselGroupPagingDuration:250,carouselSlideEasing:"swing",carouselPageWidthInt:68,carouselPageClickStopsPlayAuto:!0,mainNextSelector:".ezcs-main-next",mainPrevSelector:".ezcs-main-prev",mainNextPrevClickStopsPlayAuto:!0,mainFullImgRatioDataAttr:"ezscfullimgratio",mainFullImgWidthDataAttr:"ezscfullimgwidth",mainFullImgHeightDataAttr:"ezscfullimgheight",
mainFullImgSrcDataAttr:"ezscfullimgsrc",mainFullImgReadyDataAttr:"ezscfullimgready",mainFullImgLazyLoad:!0,slidesMainSelector:".ezcs-main-slides",slidesWrapperClass:".ezcs-the-slides",slidesMainEffect:"slide",slidesMainFadeOutDuration:300,slidesMainFadeInDuration:300,slidesPerSlideDuration:200,slidesPerSlideEasing:"swing",captionRegClass:".ezcs-caption-reg",captionFullClass:".ezcs-caption-full",captionIsShow:!0,shareRegClass:".ezcs-share-reg",shareFullClass:".ezcs-share-full",shareIsShow:!0,displayRegClass:".ezcs-display-reg",
displayFullClass:".ezcs-display-full",displayFullCloseWithEscape:!0,displayFullStyle:"fill",displayFullFillCenterImg:!0,displayFullImgWidth100PercentClassName:"ezcs-width-100-percent",displayFullImgHeight100PercentClassName:"ezcs-height-100-percent",fullToThisAddClassName:"ezcs-status-fullscreen",displayIsReg:!0,playAutoPlaying:!1,playAutoDuration:2E3,playContinuous:!0}})(jQuery);