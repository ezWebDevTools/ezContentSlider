(function(c){c.fn.ezContentSlider=function(l){function f(b,a){a.cMainSlidesList.css({width:"auto",height:"auto"});a.opts.displayIsReg?(a.nowDisplayWidth=b.find(a.opts.slidesMainSelector).width(),a.cMainSlidesList.css("width",a.nowDisplayWidth),a.cMainSlidesUL.css("width",a.nowDisplayWidth*a.cMainSlidesList.length)):(a.nowDisplayWidth=window.innerWidth,a.nowDisplayHeight=window.innerHeight,a.cMainSlidesList.css("width",a.nowDisplayWidth).css("height",a.nowDisplayHeight),a.cMainSlidesUL.css("width",
a.nowDisplayWidth*a.cMainSlidesList.length+"px"),"fit"===a.opts.displayFullStyle?a.cDisplayFullClass.filter("img").each(function(b,q){a.nowDisplayWidth/a.nowDisplayHeight>c(this).data(a.opts.mainFullImgRatioDataAttr)?(c(this).addClass(a.opts.displayFullImgHeight100PercentClassName),c(this).removeClass(a.opts.displayFullImgWidth100PercentClassName),marginLeft=(a.nowDisplayWidth-c(this).data(a.opts.mainFullImgWidthDataAttr)*(a.nowDisplayHeight/c(this).data(a.opts.mainFullImgHeightDataAttr)))/2,c(this).css({"margin-top":"auto",
"margin-left":marginLeft})):(c(this).addClass(a.opts.displayFullImgWidth100PercentClassName),c(this).removeClass(a.opts.displayFullImgHeight100PercentClassName),marginTop=(a.nowDisplayHeight-c(this).data(a.opts.mainFullImgHeightDataAttr)*(a.nowDisplayWidth/c(this).data(a.opts.mainFullImgWidthDataAttr)))/2,c(this).css({"margin-top":marginTop,"margin-left":"auto"}))}):a.opts.displayFullFillCenterImg?a.cDisplayFullClass.filter("img").each(function(b,q){a.nowDisplayWidth/a.nowDisplayHeight>c(this).data(a.opts.mainFullImgRatioDataAttr)?
(c(this).addClass(a.opts.displayFullImgWidth100PercentClassName),c(this).removeClass(a.opts.displayFullImgHeight100PercentClassName),marginTop=(a.nowDisplayHeight-c(this).data(a.opts.mainFullImgHeightDataAttr)*(a.nowDisplayWidth/c(this).data(a.opts.mainFullImgWidthDataAttr)))/2,c(this).css({"margin-top":marginTop,"margin-left":"auto"})):(c(this).addClass(a.opts.displayFullImgHeight100PercentClassName),c(this).removeClass(a.opts.displayFullImgWidth100PercentClassName),marginLeft=(a.nowDisplayWidth-
c(this).data(a.opts.mainFullImgWidthDataAttr)*(a.nowDisplayHeight/c(this).data(a.opts.mainFullImgHeightDataAttr)))/2,c(this).css({"margin-top":"auto","margin-left":marginLeft}))}):a.cDisplayFullClass.filter("img").each(function(b,q){a.nowDisplayWidth/a.nowDisplayHeight>c(this).data(a.opts.mainFullImgRatioDataAttr)?(c(this).addClass(a.opts.displayFullImgWidth100PercentClassName),c(this).removeClass(a.opts.displayFullImgHeight100PercentClassName)):(c(this).addClass(a.opts.displayFullImgHeight100PercentClassName),
c(this).removeClass(a.opts.displayFullImgWidth100PercentClassName))}));return a}function g(b){var a=b.cCarouselWrapper.find(b.opts.carouselPagesWrapperSelector).width();pagesPerGroup=Math.floor(a/b.opts.carouselPageWidthInt);b.newPagesPerClick=pagesPerGroup-b.opts.carouselGroupPageOverlap;1>b.newPagesPerClick&&(b.newPagesPerClick=pagesPerGroup);b.numOfGroups=Math.ceil(b.cCarouselPagesList.length/b.newPagesPerClick)-1;return b}function m(b,a){var d=b.find(a.opts.controlsSwitchClass),u=b.find(a.opts.controlsSwitchWrapperClass),
f=b.find(a.opts.controlsThumbsClass),g=b.find(a.opts.controlsCaptionClass),r=b.find(a.opts.controlsShareClass),n=b.find(a.opts.controlsDisplayClass),l=b.find(a.opts.mainPrevSelector),m=b.find(a.opts.mainNextSelector);a.cControlsPlayClass=b.find(a.opts.controlsPlayClass);if(a.opts.carouselUse){var p=b.find(a.opts.carouselGroupNextSelector),v=b.find(a.opts.carouselGroupPrevSelector);a.cCarouselPagesList.on("click",function(){a.ezcsIsBusy||(a.opts.playAutoPlaying&&a.opts.carouselPageClickStopsPlayAuto&&
(a.opts.playAutoPlaying=!1,clearInterval(a.autoPlayInterval),a.cControlsPlayClass.toggle()),a=h(c(this).index(),a))});p.on("click",function(){a=e("next",a)});v.on("click",function(){a=e("prev",a)})}m.on("click",function(){a.opts.playAutoPlaying&&a.opts.mainNextPrevClickStopsPlayAuto&&(a.opts.playAutoPlaying=!1,clearInterval(a.autoPlayInterval),a.cControlsPlayClass.toggle());k("next",a)});l.on("click",function(){a.opts.playAutoPlaying&&a.opts.mainNextPrevClickStopsPlayAuto&&(a.opts.playAutoPlaying=
!1,clearInterval(a.autoPlayInterval),a.cControlsPlayClass.toggle());k("prev",a)});c(document).on("keyup.$this",function(b){39===b.keyCode?k("next",a):37===b.keyCode&&k("prev",a)});d.on("click",function(){d.toggle();u.fadeToggle(a.opts.controlsSwitchFadeDuration)});n.on("click",function(){n.toggle();a=s(b,a)});c(document).keyup(function(c){27==c.keyCode&&!1===a.opts.displayIsReg&&a.opts.displayFullCloseWithEscape&&(n.toggle(),a=s(b,a))});f.on("click",function(){f.toggle();a.cCarouselWrapper.fadeToggle(a.opts.controlsSwitchFadeDuration)});
g.on("click",function(){g.toggle();a.opts.captionIsShow?(a.cCaptionRegClass.hide(),a.cCaptionFullClass.hide(),a.opts.captionIsShow=!1):(a.opts.displayIsReg?a.cCaptionRegClass.show():a.cCaptionFullClass.show(),a.opts.captionIsShow=!0)});r.on("click",function(){r.toggle();a.opts.shareIsShow?(a.cShareRegClass.hide(),a.cShareFullClass.hide(),a.opts.shareIsShow=!1):(a.opts.displayIsReg?a.cShareRegClass.show():a.cShareFullClass.show(),a.opts.shareIsShow=!0)});a.cControlsPlayClass.on("click",function(){a.cControlsPlayClass.toggle();
a.opts.playAutoPlaying?(clearInterval(a.autoPlayInterval),a.opts.playAutoPlaying=!1):(a=t(a),a.opts.playAutoPlaying=!0)});return a}function s(b,a){a.opts.displayIsReg?(a.cDisplayRegClass.hide(),b.addClass(a.opts.fullToThisAddClassName),a.cDisplayFullClass.show(),a.opts.displayIsReg=!1):(a.cDisplayFullClass.hide(),b.removeClass(a.opts.fullToThisAddClassName),a.cDisplayRegClass.show(),a.opts.displayIsReg=!0);a=f(b,a);a=h(a.nowIndex,a);a=g(a);a.opts.captionIsShow||(a.cCaptionRegClass.hide(),a.cCaptionFullClass.hide());
a.opts.shareIsShow||(a.cShareRegClass.hide(),a.cShareFullClass.hide());return a}function t(b){var a=b.nowIndex;b.autoPlayInterval=setInterval(function(){a-(b.nowGroup*b.newPagesPerClick-1)>=b.newPagesPerClick-1&&b.opts.carouselUse&&(b=e("next",b));++a;a<b.cMainSlidesList.length?(b=h(a,b),b.nowIndex=a):b.opts.playContinuous?(a=-1,b.nowIndex=-1,b.nowGroup=-1,b.opts.carouselUse&&("fade"===b.opts.carouselGroupPagingEffect&&(b.nowGroup=1),b=e("prev",b))):(b.opts.playAutoPlaying=!1,b.cControlsPlayClass.toggle(),
clearInterval(b.autoPlayInterval))},b.opts.playAutoDuration);return b}function e(b,a){if("fade"===a.opts.carouselGroupPagingEffect)if("next"==b&&a.nowGroup<a.numOfGroups){for(idx=1;idx<=a.newPagesPerClick;idx++)a.cCarouselPagesList.eq(idx+(a.nowGroup*a.newPagesPerClick-1)).fadeOut(a.opts.carouselGroupPagingDuration);++a.nowGroup}else{if("prev"===b&&0<a.nowGroup)for(--a.nowGroup,idx=1;idx<=a.newPagesPerClick;idx++)a.cCarouselPagesList.eq(idx+(a.nowGroup*a.newPagesPerClick-1)).fadeIn(a.opts.carouselGroupPagingDuration)}else"next"===
b&&a.nowGroup<a.numOfGroups?(a.cCarouselPagesUL.animate({left:(a.nowGroup+1)*a.newPagesPerClick*a.opts.carouselPageWidthInt*-1},a.opts.carouselGroupPagingDuration,a.opts.carouselSlideEasing),++a.nowGroup):"prev"===b&&0<a.nowGroup&&(--a.nowGroup,a.cCarouselPagesUL.animate({left:(a.nowGroup+1)*a.newPagesPerClick*a.opts.carouselPageWidthInt*-1+a.newPagesPerClick*a.opts.carouselPageWidthInt},a.opts.carouselGroupPagingDuration,a.opts.carouselSlideEasing));return a}function k(b,a){if(!a.ezcsIsBusy){a.ezcsIsBusy=
!0;if("next"===b)if(a.nowIndex+1>=a.cMainSlidesList.length){nextIndex=0;for(var c=a.numOfGroups,d=0;c>d;c--)e("prev",a)}else nextIndex=a.nowIndex+1,nextIndex>=(a.nowGroup+1)*a.newPagesPerClick&&e("next",a);else if("prev"===b)if(0>a.nowIndex-1)for(nextIndex=a.cMainSlidesList.length-1,c=0,d=a.numOfGroups;c<d;c++)e("next",a);else nextIndex=a.nowIndex-1,nextIndex<=a.nowGroup*a.newPagesPerClick&&e("prev",a);a.ezcsIsBusy=!1;return a=h(nextIndex,a)}}function p(b,a){imgLrg=a.cMainSlidesList.eq(b).find("img"+
a.opts.displayFullClass);dataSrc=imgLrg.data(a.opts.mainFullImgSrcDataAttr);"undefined"!=typeof dataSrc&&(origSrc=imgLrg.attr("src"),a.opts.objImage.onerror=function(){imgLrg.attr("src",origSrc)},a.opts.objImage.onload=function(){imgLrg.attr("src",dataSrc)},a.opts.objImage.src=dataSrc)}function h(b,a){if(!a.ezcsIsBusy)return a.ezcsIsBusy=!0,a.loaderSelector.show(),!0!=a.opts.displayIsReg&&!1!=a.opts.mainFullImgLazyLoad&&p(b,a),a.opts.carouselUse&&(a.cCarouselPagesList.eq(a.nowIndex).removeClass(a.opts.carouselPageSelectedClassName),
a.cCarouselPagesList.eq(b).addClass(a.opts.carouselPageSelectedClassName)),"fade"==a.opts.slidesMainEffect?a.cMainSlidesList.eq(a.nowIndex).fadeOut(a.opts.slidesMainFadeOutDuration,function(){a.cMainSlidesList.eq(b).fadeIn(a.opts.slidesMainFadeInDuration,function(){a.ezcsIsBusy=!1})}):a.cMainSlidesUL.animate({left:b*a.nowDisplayWidth*-1},Math.abs(b-a.nowIndex)*a.opts.slidesPerSlideDuration,a.opts.slidesPerSlideEasing,function(){a.ezcsIsBusy=!1}),a.loaderSelector.hide(),a.nowIndex=b,a}var d=c(this),
b={opts:"",ezcsIsBusy:!1,nowIndex:0,nowGroup:0,nowDisplayWidth:0,nowDisplayHeight:0,cMainSlidesUL:"",cMainSlidesList:"",cCarouselWrapper:"",cCarouselPagesWrap:"",cCarouselPagesUL:"",cCarouselPagesList:"",newPagesPerClick:"",numOfGroups:"",cControlsPlayClass:"",cDisplayRegClass:"",cDisplayFullClass:"",cCaptionRegClass:"",cCaptionFullClass:"",cShareRegClass:"",cShareFullClass:"",loaderSelector:"",autoPlayInterval:"",objImage:""};if(0==d.length)return d;b.opts=c.extend({},c.fn.ezContentSlider.defaults,
l);b.opts.objImage=new Image;0>b.opts.carouselGroupPageOverlap&&(b.opts.carouselGroupPageOverlap=1);"swing"!=b.opts.carouselSlideEasing&&(b.opts.carouselSlideEasing="linear");"swing"!=b.opts.slidesPerSlideEasing&&(b.opts.slidesPerSlideEasing="linear");0>b.opts.startIndex&&(b.opts.startIndex=0);b.loaderSelector=d.find(b.opts.loaderSelector);b.cMainSlidesUL=d.find(b.opts.slidesMainSelector+" ul");b.cMainSlidesList=d.find(b.opts.slidesMainSelector+" ul > li");0<b.cMainSlidesList.length&&(b.loaderSelector.show(),
b.cDisplayRegClass=b.cMainSlidesList.find(b.opts.displayRegClass),b.cDisplayFullClass=b.cMainSlidesList.find(b.opts.displayFullClass),b.cDisplayFullClass.filter("img").each(function(){c(this).attr("data-"+b.opts.mainFullImgWidthDataAttr,c(this).width());c(this).attr("data-"+b.opts.mainFullImgHeightDataAttr,c(this).height());c(this).attr("data-"+b.opts.mainFullImgRatioDataAttr,c(this).width()/c(this).height())}),!1!=b.opts.mainFullImgLazyLoad&&b.cDisplayFullClass.filter("img").each(function(d){imgRegSrc=
b.cDisplayRegClass.filter("img").eq(d).attr("src");c(this).attr("data-"+b.opts.mainFullImgSrcDataAttr,c(this).attr("src"));c(this).attr("src",imgRegSrc)}),b.cCaptionRegClass=b.cMainSlidesList.find(b.opts.captionRegClass),b.cCaptionFullClass=b.cMainSlidesList.find(b.opts.captionFullClass),b.cShareRegClass=b.cMainSlidesList.find(b.opts.shareRegClass),b.cShareFullClass=b.cMainSlidesList.find(b.opts.shareFullClass),b.opts.captionIsShow||(b.cCaptionRegClass.hide(),b.cCaptionFullClass.hide()),b.opts.shareIsShow||
(b.cShareRegClass.hide(),b.cShareFullClass.hide()),b.opts.displayIsReg?("fade"===b.opts.slidesMainEffect&&b.cMainSlidesList.hide(),b.cMainSlidesList.find(b.opts.displayFullClass).hide()):(d.addClass(b.opts.fullToThisAddClassName),b.cDisplayRegClass.hide(),b.cDisplayFullClass.show(),b.opts.displayIsReg=!1),b=f(d,b),b.opts.carouselUse&&(b.cCarouselWrapper=d.find(b.opts.carouselWrapperSelector),b.cCarouselPagesWrap=b.cCarouselWrapper.find(b.opts.carouselPagesWrapperSelector),b.cCarouselPagesUL=b.cCarouselPagesWrap.find("ul"),
b.cCarouselPagesList=b.cCarouselWrapper.find("ul > li"),b.cCarouselPagesList.show(),b.cCarouselPagesList.eq(b.nowIndex).addClass(b.opts.carouselPageSelectedClassName),b=g(b)),0<b.opts.startIndex&&(b.opts.startIndex>b.cMainSlidesList.length&&(b.opts.startIndex=0),b=h(b.opts.startIndex,b)),b.cMainSlidesList.eq(b.opts.startIndex).show(),b=m(d,b),b.loaderSelector.hide(),b.opts.playAutoPlaying&&(b=t(b)));c(window).resize(function(){b=f(d,b);b.opts.carouselUse&&(b=g(b));b=h(b.nowIndex,b)});return d};c.fn.ezContentSlider.defaults=
{startIndex:0,loaderSelector:".ezcs-loader",controlsSwitchWrapperClass:".ezcs-controls-switch-wrapper",controlsSwitchFadeDuration:200,controlsSwitchClass:".ezcs-control-switch",controlsThumbsClass:".ezcs-control-thumbs",controlsCaptionClass:".ezcs-control-caption",controlsShareClass:".ezcs-control-share",controlsDisplayClass:".ezcs-control-display",controlsPlayClass:".ezcs-control-play",carouselUse:!0,carouselPageSelectedClassName:"ezcs-selected",carouselWrapperSelector:".ezcs-carousel-wrapper",carouselPagesWrapperSelector:".ezcs-carousel-pages-wrapper",
carouselGroupNextSelector:".ezcs-carousel-group-next",carouselGroupPrevSelector:".ezcs-carousel-group-prev",carouselGroupPageOverlap:0,carouselGroupPagingEffect:"slide",carouselGroupPagingDuration:250,carouselSlideEasing:"swing",carouselPageWidthInt:68,carouselPageClickStopsPlayAuto:!0,mainNextSelector:".ezcs-main-next",mainPrevSelector:".ezcs-main-prev",mainNextPrevClickStopsPlayAuto:!0,mainFullImgRatioDataAttr:"ezscfullimgratio",mainFullImgWidthDataAttr:"ezscfullimgwidth",mainFullImgHeightDataAttr:"ezscfullimgheight",
mainFullImgSrcDataAttr:"ezscfullimgsrc",mainFullImgLazyLoad:!0,slidesMainSelector:".ezcs-main-slides",slidesWrapperClass:".ezcs-the-slides",slidesMainEffect:"slide",slidesMainFadeOutDuration:300,slidesMainFadeInDuration:300,slidesPerSlideDuration:200,slidesPerSlideEasing:"swing",captionRegClass:".ezcs-caption-reg",captionFullClass:".ezcs-caption-full",captionIsShow:!0,shareRegClass:".ezcs-share-reg",shareFullClass:".ezcs-share-full",shareIsShow:!0,displayRegClass:".ezcs-display-reg",displayFullClass:".ezcs-display-full",
displayFullCloseWithEscape:!0,displayFullStyle:"fill",displayFullFillCenterImg:!0,displayFullImgWidth100PercentClassName:"ezcs-width-100-percent",displayFullImgHeight100PercentClassName:"ezcs-height-100-percent",fullToThisAddClassName:"ezcs-status-fullscreen",displayIsReg:!0,playAutoPlaying:!1,playAutoDuration:2E3,playContinuous:!0}})(jQuery);